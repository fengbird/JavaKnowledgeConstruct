<mxfile host="app.diagrams.net" modified="2022-06-02T12:06:26.696Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36" etag="Ik2pgnDhKj8Aj11XK_nY" version="17.4.6" type="github">
  <diagram id="WoDHXoN576q5PnCg36Me" name="第 1 页">
    <mxGraphModel dx="1339" dy="604" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-41" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="0K7TBATuOPwZqWg2V9cS-1" target="BNzz6FFe_rrqk4d4cfUV-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0K7TBATuOPwZqWg2V9cS-1" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;feign接口调用&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="304" y="30" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-2" target="BNzz6FFe_rrqk4d4cfUV-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;HystrixInvocationHandler.invoke()&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="224" y="170" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.013;entryY=0.583;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;endArrow=none;endFill=0;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-10" target="BNzz6FFe_rrqk4d4cfUV-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-10" target="BNzz6FFe_rrqk4d4cfUV-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-17" value="将获取到的setter对象通过构造器放入" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="BNzz6FFe_rrqk4d4cfUV-16">
          <mxGeometry x="-0.2" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-10" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;Setter setter = setterMethodMap.get(method)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="224" y="310" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-13" value="动态代理拿到当前的方法对象,再通过成员变量setterMethodMap拿到对应的Setter对象，setter对象中包含要调用的服务名，及Hystrix要用到的commandKey: ExaminationApi#getExamLevelInfo()" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-60" y="270" width="230" height="120" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-15" target="BNzz6FFe_rrqk4d4cfUV-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-20" value="设置command的run方法" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="BNzz6FFe_rrqk4d4cfUV-19">
          <mxGeometry x="-0.125" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-15" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;hystrixCommand = new HystrixCommand(setter)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="224" y="450" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-28" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=none;endFill=0;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-18" target="BNzz6FFe_rrqk4d4cfUV-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-30" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=none;endFill=0;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-18" target="BNzz6FFe_rrqk4d4cfUV-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-18" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;hystrixCommand.run(){&lt;br&gt;}&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="224" y="590" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-21" value="feign-hystrix: HystrixInvocationHandler" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-91" y="110" width="900" height="685" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-23" value="&lt;div&gt;&lt;span&gt;run方法内容主要就一行：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;HystrixInocationHandler.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;this.dispatch.get(method)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;.invoke(args)&lt;br&gt;这行代码主要从dispath这个成员变量中获取method对象对应的MethodHandler方法然后执行调用&lt;/span&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-21">
          <mxGeometry x="71" y="450" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-32" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-29" target="BNzz6FFe_rrqk4d4cfUV-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-39" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=none;endFill=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-29" target="BNzz6FFe_rrqk4d4cfUV-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-44" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-29">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="123" y="670" as="targetPoint" />
            <Array as="points">
              <mxPoint x="123" y="755" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-29" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;hystrixCommand.execute()&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="224" y="730" width="270" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-46" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-31" target="BNzz6FFe_rrqk4d4cfUV-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-31" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;SynchronousMethodHandler.invoke()&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="224" y="860" width="270" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-38" value="Feign-core: SynchronousMethodHandler" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-91" y="830" width="930" height="550" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-45" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;RequestTemplate template = buildTemplateFromArgs.create(argv)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-38">
          <mxGeometry x="246" y="180" width="406" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-48" value="对请求而来的参数进行初步解析，解析出请求方法、请求路径等基本信息" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-38">
          <mxGeometry x="20" y="130" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-51" value="&lt;font color=&quot;#000000&quot;&gt;Feign调用中的关键核心逻辑&lt;/font&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#e51400;strokeColor=#B20000;align=left;fontColor=#ffffff;gradientColor=none;fillStyle=dashed;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-38">
          <mxGeometry x="20" y="265" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-52" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=none;endFill=0;" edge="1" parent="BNzz6FFe_rrqk4d4cfUV-38" source="BNzz6FFe_rrqk4d4cfUV-49">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-49" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;executeAndDecode(template,options)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-38">
          <mxGeometry x="254" y="300" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-50" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="BNzz6FFe_rrqk4d4cfUV-38" source="BNzz6FFe_rrqk4d4cfUV-45" target="BNzz6FFe_rrqk4d4cfUV-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-55" value="自定义的feign的请求拦截器将在这里进行加载拼接" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-38">
          <mxGeometry x="20" y="410" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-43" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-23" target="BNzz6FFe_rrqk4d4cfUV-31">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="70" y="900" as="targetPoint" />
            <mxPoint x="75" y="715" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="75" y="885" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-47" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=none;endFill=0;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-45">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-56" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.011;entryY=0.223;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-53" target="BNzz6FFe_rrqk4d4cfUV-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-106" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-53">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="359" y="1470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-53" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;targetRequest(template)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="164" y="1240" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-54" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-49" target="BNzz6FFe_rrqk4d4cfUV-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-73" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-69" target="BNzz6FFe_rrqk4d4cfUV-72">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-69" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;execute()&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="135" y="2895" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-70" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-65" target="BNzz6FFe_rrqk4d4cfUV-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-71" value="okhttp:RealCall" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-95" y="2845" width="886" height="380" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-72" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;getResponseWithInterceptorChain()&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-71">
          <mxGeometry x="230" y="120" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-74" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;拦截器装配&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-71">
          <mxGeometry x="230" y="200" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-75" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="BNzz6FFe_rrqk4d4cfUV-71" source="BNzz6FFe_rrqk4d4cfUV-72" target="BNzz6FFe_rrqk4d4cfUV-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-79" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="BNzz6FFe_rrqk4d4cfUV-71" source="BNzz6FFe_rrqk4d4cfUV-76" target="BNzz6FFe_rrqk4d4cfUV-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-76" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;创建拦截器链对象，并在此处装在超时时间这些配置参数&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-71">
          <mxGeometry x="230" y="290" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-77" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="BNzz6FFe_rrqk4d4cfUV-71" source="BNzz6FFe_rrqk4d4cfUV-74" target="BNzz6FFe_rrqk4d4cfUV-76">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-78" value="Inteceptor.Chain chain = new RealInteceptorChain(inteceptors, transmitter, null, 0, originalReuquest, this, client.connectTimeoutMills(), client.readTimeOutMills(), client.writeTimeoutMillis()" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-71">
          <mxGeometry x="10" y="250" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-87" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-82" target="BNzz6FFe_rrqk4d4cfUV-86">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-82" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;proceed(originalReuqest)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="135" y="3285" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-84" value="okhttp: RealInterceptorChain" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-35" y="3245" width="730" height="100" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-88" value="okhttp: RetryAndFollowUpInteceptor" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-35" y="3355" width="706" height="210" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-89" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;transmitter.prepareToConnect(request)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-88">
          <mxGeometry x="170" y="130" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-91" value="做网络连接钱的判断校验释放，并实例化一个ExchangeFinder对象，将连接池在此处装载" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-88">
          <mxGeometry x="20" y="100" width="130" height="110" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-92" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;proceed(request,transmitter, null)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-88">
          <mxGeometry x="170" y="280" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-93" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="BNzz6FFe_rrqk4d4cfUV-88" source="BNzz6FFe_rrqk4d4cfUV-89" target="BNzz6FFe_rrqk4d4cfUV-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-90" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-86" target="BNzz6FFe_rrqk4d4cfUV-89">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-86" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;intercept(chain)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="135" y="3405" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-94" value="okhttp: RealInteceptorChain" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-35" y="3605" width="726" height="90" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-96" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-92" target="BNzz6FFe_rrqk4d4cfUV-95">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-97" value="okhttp: BridgeInteceptor" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-15" y="3755" width="686" height="220" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-98" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;默认请求头拼接&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-97">
          <mxGeometry x="150" y="140" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-100" value="请求头包括：Content-Type, Content-Length, Host, Connection:Keep-Alive, Accept-Encoding, Cookie, User-Agent" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-97">
          <mxGeometry x="6" y="80" width="134" height="110" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-95" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;intercept(chain)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-97">
          <mxGeometry x="150" y="70" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-99" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="BNzz6FFe_rrqk4d4cfUV-97" source="BNzz6FFe_rrqk4d4cfUV-95" target="BNzz6FFe_rrqk4d4cfUV-98">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-134" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-101" target="BNzz6FFe_rrqk4d4cfUV-136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-135" value="响应回来后的关键步骤" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;fontColor=#000000;" vertex="1" connectable="0" parent="BNzz6FFe_rrqk4d4cfUV-134">
          <mxGeometry x="-0.2375" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-101" value="循环进行链遍历执行" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#6a00ff;strokeColor=#3700CC;fontColor=#000000;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="-39" y="3715" width="730" height="430" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-102" value="接下来的步骤就是从链接池中获取RealConnection进行连接，然后建立握手等进行数据的传输与返回的逻辑了" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-101">
          <mxGeometry x="30" y="290" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-104" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-76" target="BNzz6FFe_rrqk4d4cfUV-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-62" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=190;entryDy=65;entryPerimeter=0;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-59" target="BNzz6FFe_rrqk4d4cfUV-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-131" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-59" target="BNzz6FFe_rrqk4d4cfUV-130">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-59" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;获取一个OKHttpClient对象&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="133" y="2535" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-60" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" target="BNzz6FFe_rrqk4d4cfUV-59">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="328" y="2485" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-61" value="这里的okhttpclient获取方式有两种，一种是直接复用实例化好的，一种是每次都会创建一个，依据是判断connectionTimeout和readTimeout看下feign.httpClient和feign.client的配置是否相同，不同则每次都新创建okhttp对象，配置参数以feign.client的为准" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="-101" y="2490" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-68" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=190;entryDy=65;entryPerimeter=0;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-65" target="BNzz6FFe_rrqk4d4cfUV-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-65" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;requestScoped,newCall(request).execute()&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="133" y="2745" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-67" value="载入请求对象，调用okHttpCLient的execute方法，进行http请求的发送" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="-111" y="2700" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-66" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-63" target="BNzz6FFe_rrqk4d4cfUV-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-63" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;feign请求对象转换为OkHttp的Request对象&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="133" y="2655" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-64" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-59" target="BNzz6FFe_rrqk4d4cfUV-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-105" value="spring-cloud-openfeign-core: LoadBalancerFeignClient" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;fillStyle=dashed;fontColor=#000000;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="-7" y="1430" width="730" height="200" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-107" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;execute(request, options)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-105">
          <mxGeometry x="169" y="40" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-110" value="获取当前客户端所配置超时等配置内容" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-105">
          <mxGeometry y="80" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-108" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;getClientConfig()&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-105">
          <mxGeometry x="170" y="120" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-109" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="BNzz6FFe_rrqk4d4cfUV-105" source="BNzz6FFe_rrqk4d4cfUV-107" target="BNzz6FFe_rrqk4d4cfUV-108">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-121" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-111" target="BNzz6FFe_rrqk4d4cfUV-120">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-111" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;getServerFromLoadBalancer(uri, loadBalanceKey)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="164" y="1810" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-113" value="ribbon-loadbalancer: LoadBalancerContext" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-6" y="1780" width="730" height="90" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-114" value="ribbon-loadbalancer: AbstractLoadBalancerAwareClient" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-6" y="1650" width="730" height="100" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-116" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;executeWithLoadBalancer(request,requestConfig)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-114">
          <mxGeometry x="170" y="40" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-115" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-108">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="359" y="1690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-117" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-116">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="360" y="1810" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-124" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-119" target="BNzz6FFe_rrqk4d4cfUV-125">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-119" value="ribbon-loadbalancer: ZoneAwareLoadBanlancer" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-7" y="1890" width="730" height="170" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-120" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;chooseServer(loadBalancerKey)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-119">
          <mxGeometry x="171" y="50" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-122" value="默认采用循环遍历的方式选出服务器地址：getPredicate()&lt;br&gt;.chooseRoundRobin&lt;br&gt;AfterFiltering(&lt;br&gt;lb.getAllServers, key);&lt;br&gt;RoundRobin： 循环的意思" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-119">
          <mxGeometry x="12" y="40" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-123" value="spring-cloud-openfeign-core: FeignLoadBalancer" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-26" y="2140" width="730" height="170" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-125" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;execute(request, requestConfig)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-123">
          <mxGeometry x="188" y="60" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-126" value="若给ribbon也配置了超时等参数，feign.client中也配置了参数，feign.client中的参数会覆盖ribbon中的参数设置" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-123">
          <mxGeometry x="19" y="40" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-127" value="feign-okttp: OkhttpClient" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-121" y="2420" width="920" height="415" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-128" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;execute(request, options)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-127">
          <mxGeometry x="256" y="30" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-130" value="这里的OkHttpClient是在okhttp jar包里面的，和所在的当前类的OkHttpClient同名不同包，这里一定要注意" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-127">
          <mxGeometry x="711" y="75" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-129" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.522;entryY=-0.001;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-125" target="BNzz6FFe_rrqk4d4cfUV-127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-132" value="feign-core: SnchronousMethodHandler" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#6a00ff;strokeColor=#3700CC;fontColor=#000000;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="-39" y="4225" width="730" height="235" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-136" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;executeAndDecode(template,options)&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-132">
          <mxGeometry x="170" y="65" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-137" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;response = response.toBuilder()&lt;br&gt;.request(request)&lt;br&gt;.requestTemplate(template).build()&lt;/font&gt;" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-132">
          <mxGeometry x="170" y="145" width="390" height="55" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-138" value="在这一行打断点，响应回来后会途径这里" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="BNzz6FFe_rrqk4d4cfUV-132" source="BNzz6FFe_rrqk4d4cfUV-136" target="BNzz6FFe_rrqk4d4cfUV-137">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-139" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-137">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="326" y="4490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-144" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-147">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="326" y="4660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-142" value="响应码是否在200到300之间" style="rhombus;whiteSpace=wrap;html=1;sketch=1;fillStyle=dashed;fontFamily=Comic Sans MS;opacity=50;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="286" y="4490" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-152" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-146" target="BNzz6FFe_rrqk4d4cfUV-154">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="328" y="4790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-146" value="decode(response, type)" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="208.5" y="4660" width="239" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-147" value="spring-cloud-openfeign-core: SpringDecoder" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="76" y="4600" width="500" height="130" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-148" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontColor=#000000;startArrow=none;startFill=0;endArrow=none;endFill=1;" edge="1" parent="1" source="BNzz6FFe_rrqk4d4cfUV-142" target="BNzz6FFe_rrqk4d4cfUV-147">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="326" y="4570" as="sourcePoint" />
            <mxPoint x="326" y="4660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-149" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;fontColor=#000000;" vertex="1" connectable="0" parent="BNzz6FFe_rrqk4d4cfUV-148">
          <mxGeometry x="-0.1889" y="2" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-153" value="spring-web: HttpMessageConverterExtractor" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="70.5" y="4790" width="515" height="150" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-154" value="extractData(response)" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="BNzz6FFe_rrqk4d4cfUV-153">
          <mxGeometry x="138" y="50" width="239" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-155" value="接下来就按照spring解析响应体的方案进行响应体解析了然后返回了" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontFamily=Comic Sans MS;size=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="253" y="4940" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-161" value="decode(methodKey, response)" style="html=1;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="671" y="4600" width="239" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-163" value="" style="edgeStyle=segmentEdgeStyle;endArrow=classic;html=1;rounded=0;fontFamily=Comic Sans MS;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="BNzz6FFe_rrqk4d4cfUV-161">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="364" y="4530" as="sourcePoint" />
            <mxPoint x="414" y="4480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-165" value="否且响应码非404" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;fontColor=#000000;" vertex="1" connectable="0" parent="BNzz6FFe_rrqk4d4cfUV-163">
          <mxGeometry x="0.0272" y="1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BNzz6FFe_rrqk4d4cfUV-164" value="feign-core: ErrorDecoder.Default" style="swimlane;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="600" y="4550" width="380" height="120" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
